{"ast":null,"code":"var _jsxFileName = \"/Users/aleksandrbaran/Desktop/Repo/React/my_project/src/components/Pagination/Pagination.js\",\n    _s = $RefreshSig$();\n\n// import { Container, Pagination, Stack, PaginationItem } from \"@mui/material\";\n// import { useState, useEffect } from \"react\";\n// import * as actions from '../../redux/users/users-action'\n// import { useSelector} from \"react-redux\";\n// import * as selectors from '../../redux/users/user-selector'\n// export default function Pagination() {\n//     return (\n//     )\n// };\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { Link as NavLink } from \"react-router-dom\";\nimport { Pagination, PaginationItem, TextField, Stack, Link } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = \"https://api.github.com/search/repositories?\";\n\nconst HomePage = props => {\n  _s();\n\n  console.log(props);\n  const [repo, setRepo] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const perPage = 20;\n  const [currentPage, setCurrentPage] = useState(''); // parseInt(props.location.search?.split(\"=\")[1] || 1)\n\n  const [count, setCount] = useState(0);\n  useEffect(() => {\n    axios.get(BASE_URL + `q=${query}&per_page=${perPage}&page=${currentPage}`).then(_ref => {\n      let {\n        data\n      } = _ref;\n      setRepo(data.items);\n      setCount(data.total_count);\n      console.log(setCount); //   if (data.nbPages < currentPage) {\n      //     setCurrentPage(1);\n      //     props.history.replace(\"/\");\n      //   }\n    });\n  }, [query, currentPage, perPage]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      label: \"query\",\n      value: query,\n      onChange: event => setQuery(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 2,\n      children: [!!count && /*#__PURE__*/_jsxDEV(Pagination, {\n        count: count,\n        page: currentPage,\n        onChange: (_, num) => setCurrentPage(num),\n        showFirstButton: true,\n        showLastButton: true,\n        sx: {\n          marginY: 3,\n          marginX: \"auto\"\n        },\n        renderItem: item => /*#__PURE__*/_jsxDEV(PaginationItem, {\n          component: NavLink,\n          to: `/?page=${item.page}`,\n          ...item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), repo.map(post => /*#__PURE__*/_jsxDEV(Link, {\n        href: post.url,\n        children: post.title || post.story_title\n      }, post.objectID, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(HomePage, \"hk4AN6PS5YTzBPj+1iz0DK4GWaM=\");\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["/Users/aleksandrbaran/Desktop/Repo/React/my_project/src/components/Pagination/Pagination.js"],"names":["axios","useState","useEffect","Link","NavLink","Pagination","PaginationItem","TextField","Stack","BASE_URL","HomePage","props","console","log","repo","setRepo","query","setQuery","perPage","currentPage","setCurrentPage","count","setCount","get","then","data","items","total_count","event","target","value","_","num","marginY","marginX","item","page","map","post","url","title","story_title","objectID"],"mappings":"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","sourcesContent":["// import { Container, Pagination, Stack, PaginationItem } from \"@mui/material\";\n// import { useState, useEffect } from \"react\";\n// import * as actions from '../../redux/users/users-action'\n// import { useSelector} from \"react-redux\";\n// import * as selectors from '../../redux/users/user-selector'\n\n\n// export default function Pagination() {\n\n//     return (\n        \n//     )\n// };\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { Link as NavLink } from \"react-router-dom\";\nimport {\n  Pagination,\n  PaginationItem,\n  TextField,\n  Stack,\n  Link\n} from \"@mui/material\";\n\nconst BASE_URL = \"https://api.github.com/search/repositories?\";\n\nconst HomePage = (props) => {\nconsole.log(props);\nconst [repo, setRepo] = useState([]);\nconst [query, setQuery] = useState(\"\");\n    const perPage = 20;\n  const [currentPage, setCurrentPage] = useState('')\n    // parseInt(props.location.search?.split(\"=\")[1] || 1)\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n      axios.get(BASE_URL +`q=${query}&per_page=${perPage}&page=${currentPage}`).then(({ data }) => {\n      setRepo(data.items);\n          setCount(data.total_count);\n          console.log(setCount)\n              \n          \n\n    //   if (data.nbPages < currentPage) {\n    //     setCurrentPage(1);\n    //     props.history.replace(\"/\");\n    //   }\n    });\n  }, [query, currentPage,perPage]);\n\n  return (\n    <>\n      <TextField\n        fullWidth\n        label=\"query\"\n        value={query}\n        onChange={(event) => setQuery(event.target.value)}\n      />\n      <Stack spacing={2}>\n        {!!count && (\n          <Pagination\n            count={count}\n            page={currentPage}\n            onChange={(_, num) => setCurrentPage(num)}\n            showFirstButton\n            showLastButton\n            sx={{ marginY: 3, marginX: \"auto\" }}\n            renderItem={(item) => (\n              <PaginationItem\n                component={NavLink}\n                to={`/?page=${item.page}`}\n                {...item}\n              />\n            )}\n          />\n        )}\n        {repo.map((post) => (\n          <Link key={post.objectID} href={post.url}>\n            {post.title || post.story_title}\n          </Link>\n        ))}\n      </Stack>\n    </>\n  );\n};\n\nexport default HomePage;\n\n"]},"metadata":{},"sourceType":"module"}